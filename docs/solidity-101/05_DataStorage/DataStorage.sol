// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

contract DataStorage {
  // The data location of x is storage.
  // This is the only place where the
  // data location can be omitted.
  uint[] x = [1, 2, 3];

  function fStorage() public {
    //声明一个storage的变量xStorage，指向x。修改xStorage也会影响x
    uint[] storage xStorage = x;
    xStorage[0] = 100;
  }

  function fMemory() public view {
    //声明一个Memory的变量xMemory，复制x。修改xMemory不会影响x
    uint[] memory xMemory = x;
    xMemory[0] = 100;
    xMemory[1] = 200;
    uint[] memory xMemory2 = x;
    xMemory2[0] = 300;
  }

  function fCalldata(uint[] calldata _x) public pure returns (uint[] calldata) {
    //参数为calldata数组，不能被修改
    // _x[0] = 0 //这样修改会报错
    return (_x);
  }
}

contract Variables {
  uint public x = 1;
  uint public y;
  string public z;

  function foo() external {
    // 可以在函数里更改状态变量的值
    x = 5;
    y = 2;
    z = "0xAA";
  }

  function bar() external pure returns (uint) {
    uint xx = 1;
    uint yy = 3;
    uint zz = xx + yy;
    return (zz);
  }

  function global() external view returns (address, uint, bytes memory) {
    address sender = msg.sender;
    uint blockNum = block.number;
    bytes memory data = msg.data;
    return (sender, blockNum, data);
  }
}
